# CAD Quantity Pro - 레이어 기반 기능 업데이트

## 새로운 기능

### 1. 추출 모드 옵션
각 행에 대해 추출 방법을 선택할 수 있습니다:
- **전체**: 모든 치수 정보 사용
- **장변**: 사각형의 긴 변만 추출 (데크 보 등에 유용)
- **단변**: 사각형의 짧은 변만 추출
- **둘레**: 폐합된 도형의 둘레 계산
- **면적**: 폐합된 도형의 면적 계산

### 2. 레이어 정보 컬럼
- 선택된 객체의 레이어가 자동으로 표시됩니다
- 비고란과 별도로 레이어 정보를 관리할 수 있습니다

### 3. 철근 중량 데이터베이스
철근 규격별 단위중량(kg/m)이 내장되어 있습니다:
- D10: 0.560 kg/m
- D13: 0.995 kg/m
- D16: 1.560 kg/m
- D19: 2.250 kg/m
- D22: 3.040 kg/m
- D25: 3.980 kg/m
- D29: 5.040 kg/m
- D32: 6.230 kg/m
- D35: 7.510 kg/m
- D38: 8.950 kg/m
- D41: 10.40 kg/m
- D51: 15.90 kg/m

### 4. 레이어 일괄 처리
"📊 레이어 일괄 처리" 버튼으로 여러 레이어를 한 번에 처리할 수 있습니다:
- 도면의 모든 레이어 목록 표시
- 레이어별 객체 수 확인
- 철근 레이어 자동 인식 (REBAR-D13, REBAR-D16 등)
- 선택한 레이어들에 대해 자동으로 행 추가 및 계산

### 5. 향상된 수식 변수
기존 변수:
- {개수}, {가로}, {세로}, {층고}, {두께}
- {사용자1}, {사용자2}
- {선택길이}, {선택면적}, {선택개수}

새로운 변수:
- {장변}: 사각형의 긴 변 길이
- {단변}: 사각형의 짧은 변 길이
- {둘레}: 폐합된 도형의 둘레
- {철근중량}: 레이어 이름에서 자동으로 철근 단위중량 추출

## 사용 예시

### 데크 보 계산
같은 레이어에 3m, 4m, 5m 보가 혼재된 경우:
1. 추출 모드를 "장변"으로 설정
2. 수식: `{장변}/1000*{가로}/1000*{세로}/1000*{개수}`
3. 각 보의 길이(장변)가 자동으로 추출되어 계산

### 철근 중량 계산
레이어 이름: REBAR-D13
1. 레이어 일괄 처리에서 REBAR로 필터링
2. 자동으로 철근 단위중량(0.995 kg/m) 적용
3. 수식: `{선택길이}/1000*{철근중량}`
4. 결과: 철근 총 중량(kg)

### 레이어별 일괄 처리
1. AutoCAD 연결 후 "📊 레이어 일괄 처리" 클릭
2. 필터로 원하는 레이어 찾기 (예: "REBAR" 입력)
3. 처리할 레이어들 체크
4. 처리 방법 선택:
   - 철근 중량 계산
   - 데크 보 체적 (장변 기준)
   - 노출 철근 길이
   - 사용자 정의 수식
5. "처리" 클릭으로 선택된 모든 레이어 자동 처리

## 장점
- 레이어별로 정리된 도면을 빠르게 처리
- 다양한 크기가 혼재된 객체도 추출 모드로 정확히 계산
- 철근 작업 시 레이어 명명 규칙만 지키면 자동 중량 계산
- 반복 작업 최소화로 생산성 향상